(()=>{var t={48:t=>{t.exports=function(){document.querySelectorAll(".listsBlockItem > [data-rm]").forEach((t=>{t.addEventListener("click",(async()=>{const e=t.parentElement.firstElementChild.textContent;t.remove(),console.log(t),await fetch("http://localhost:7777/todo/"+e,{method:"DELETE",headers:{"content-type":"application/json"}})}))}))}},838:t=>{t.exports=function(t,e,n,o,s){s("",t,e,n,o),t.selectMethod();const l=document.querySelectorAll(".check");let c=l[2];l.forEach((function(i,r){i.parentElement.addEventListener("click",(function(){c.classList.remove("checked"),i.classList.toggle("checked"),c=l[r],t.listsBlock.innerHTML="","completed"===i.parentElement.id?s(!0,t,e,n,o):"nCompleted"===i.parentElement.id?s(!1,t,e,n,o):s("",t,e,n,o)}))}))}},402:t=>{t.exports=function(t){const e=document.querySelectorAll("[data-dn]"),n=document.querySelectorAll("[data-up]");e.forEach(((e,o)=>{e.addEventListener("click",(async()=>{if(e.firstElementChild.src="icons/end.png",!t[o].complete){n[o].firstElementChild.style.display="none";const s=e.parentElement.firstElementChild.textContent;await fetch("http://localhost:7777/todo/"+s,{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({...t[o],complete:!0})})}})),t[o].complete&&e.addEventListener("mouseover",(function(){this.style.cursor="no-drop",this.style.backgroundColor="transparent"}))}))}},99:(t,e,n)=>{const{form:o,screenInput:s}=n(131);t.exports=function(){o.addEventListener("submit",(async function(t){t.preventDefault(),await fetch("http://localhost:7777/todo/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:s.value.trim(),complete:!1})}),t.target.reset()}))}},445:t=>{t.exports=function(){const t=document.querySelectorAll("[data-up]"),e=document.querySelectorAll("[data-sv]"),n=document.querySelectorAll(".listsBlockItem > form > input");let o;t.forEach(((t,s)=>{t.addEventListener("click",(function(){t.style.display="none",e[s].style.display="inline-block",console.log(n[s].parentElement),n[s].removeAttribute("readonly"),n[s].style.border="1px solid #5e5656",n[s].parentElement.addEventListener("submit",(async function(l){l.preventDefault(),t.style.display="inline-block",e[s].style.display="none",n[s].setAttribute("readonly",""),n[s].style.border="0.5px solid transparent",o=n[s].value;const c=t.parentElement.firstElementChild.textContent;await fetch("http://localhost:7777/todo/"+c,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({title:o,complete:!1})})}))}))}))}},485:t=>{t.exports=function(t="",e,n,o,s){fetch("http://localhost:7777/todo/").then((t=>t.json())).then((n=>""===t?n.sort((function(t,e){return t.complete<e.complete?1:t.complete>e.complete?-1:0})).map((t=>(e.toHTML(t.id,t.title,t.complete),t))):n.filter((e=>e.complete===t)).map((t=>(e.toHTML(t.id,t.title,t.complete),t))))).then((t=>{n(t),o(),s()}))}},131:t=>{const e=document.querySelector("#root"),n={title:document.createElement("h1"),subTitle:document.createElement("p"),form:document.createElement("form"),screenBlock:document.createElement("div"),screenInput:document.createElement("input"),screenAddBtn:document.createElement("button"),selectBlock:document.createElement("div"),listsBlock:document.createElement("div"),elementOptions(){this.title.textContent="CRUD",this.subTitle.textContent="Async Application",this.form.id="app-form",this.screenBlock.id="screenBlock",this.screenInput.type="text",this.screenInput.placeholder="Type here...",this.screenAddBtn.innerHTML="<img src='./icons/add.png'>",this.screenAddBtn.id="screenAddBtn",this.selectBlock.id="selectBlock",this.listsBlock.id="listBlock"},appendElements(){e.append(this.title,this.subTitle,this.form,this.selectBlock,this.listsBlock),this.form.append(this.screenBlock),this.screenBlock.append(this.screenInput,this.screenAddBtn)},selectMethod(){this.selectBlock.innerHTML='\n\t\t\t<div id="completed">\n\t\t\t<p>Completed </p>\n\t\t\t<div class ="check"></div>\n\t\t\t</div>\n\t\t\t<div id="nCompleted">\n\t\t\t<p>Not Completed </p>\n\t\t\t<div class ="check"></div>\n\t\t\t</div>\n\t\t\t<div id="all">\n\t\t\t<p>All</p>\n\t\t\t<div class ="check checked"></div>\n\t\t\t</div>\n\t\t'},toHTML(t,e,n){this.listsBlock.innerHTML+=`\n\t\t\t\t\t<div class="listsBlockItem">\n\t\t\t\t\t\t<span>${t}</span>\n\t\t\t\t\t\t<form id="list">\n\t\t\t\t\t\t\t<input type = "text" value="${e}" readonly>\n\t\t\t\t\t\t\t<button data-sv type="submit">\n\t\t\t\t\t\t\t\t<img src="./icons/save.png">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<button data-up style="display:${n?"none":"inline-block"}">\n\t\t\t\t\t\t\t<img src="./icons/edit.png">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button data-rm>\n\t\t\t\t\t\t\t<img src="./icons/delete.png">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button data-dn>\n\t\t\t\t\t\t\t<img src="${n?"./icons/end.png":"./icons/done.png"}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t`},start(){this.elementOptions(),this.appendElements()}};t.exports=n}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var l=e[o]={exports:{}};return t[o](l,l.exports,n),l.exports}(()=>{const t=n(131),e=n(99),o=n(838),s=n(402),l=n(445),c=n(48),i=n(485);t.start(),e(),o(t,s,l,c,i)})()})();